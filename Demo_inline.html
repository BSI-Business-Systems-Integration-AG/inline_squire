<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta charset="UTF-8">
  <title>HTML Editor Test</title>
  <style type="text/css" media="screen">
  body {
    position: relative;
    margin: 0 auto;
    padding: 50px;
    width: 540px;
    font: 400 14px/1.24 helvetica, arial, sans-serif;
    text-shadow: 0 1px 0 white;
  }
  h1 {
    font-size: 1.95em;
  }
  p {
    margin: 5px 0;
  }
  .border {
    border: 1px solid #888;
  }
  .control-1 {
    cursor: pointer;
    text-decoration: underline;
  }
  .control-2 {
    cursor: pointer;
    text-decoration: underline;
  }
  .rte {
	height: 500px;
	-moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    padding: 1em;
    background: transparent;
    color: #2b2b2b;
    font: 13px/1.35 Helvetica, arial, sans-serif;
    cursor: text;
  }

  .rte > ul {
    margin: 0 1em;
    padding: 0 1em;
    text-decoration: underline;
  }


  </style>
</head>
<body>
<h1>HTML Editor Test</h1>
<header>
  <p>This is a really simple demo, with the most trivial of UI integrations</p>
  <p>
  <span class="control-1" id="blur">Blur</span>
  <span class="control-1" id="bold">Bold</span>
  <span class="control-1" id="removeBold">Unbold</span>
  <span class="control-1" id="italic">Italic</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span class="control-1" id="removeItalic">Unitalic</span>
  <span class="control-1" id="underline">Underline</span>
  <span class="control-1" id="removeUnderline">Deunderline</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span class="control-1" id="removeAllFormatting">Remove formatting</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span class="control-1 prompt" id="setFontSize" >Font size</span>
  <span class="control-1 prompt" id="setFontFace" >Font face</span>
  </p>
  <p>
  <span class="control-1 prompt" id="setTextColour">Text colour</span>
  <span class="control-1 prompt" id="setHighlightColour">Text highlight</span>
  <span class="control-1 prompt" id="makeLink">Link</span>
  </p>
  <p>
    <span class="control-1" id="increaseQuoteLevel">Quote</span>
    <span class="control-1" id="decreaseQuoteLevel">Dequote</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <span class="control-1" id="makeUnorderedList">List</span>
    <span class="control-1" id="removeList">Unlist</span>
    <span class="control-1" id="increaseListLevel">Increase list level</span>
    <span class="control-1" id="decreaseListLevel">Decrease list level</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span class="control-1 prompt" id="insertImage" >Insert image</span>
  <span class="control-1 prompt" id="setHTML" >Set HTML</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <span class="control-1" id="undo">Undo</span>
    <span class="control-1" id="redo">Redo</span>
	<span class="control-1" id="foobar">FooBar</span>
  </p>
</header>
<div id="RICH_TEXT_EDITOR" tabindex="0">Hello World Lala</div>
<p> this is some text after the first editor </p>

<header>
  <p>
  <span class="control-2" id="blur">Blur</span>
  <span class="control-2" id="bold">Bold</span>
  <span class="control-2" id="removeBold">Unbold</span>
  <span class="control-2" id="italic">Italic</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span class="control-2" id="removeItalic">Unitalic</span>
  <span class="control-2" id="underline">Underline</span>
  <span class="control-2" id="removeUnderline">Deunderline</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span class="control-2" id="removeAllFormatting">Remove formatting</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span class="control-2 prompt" id="setFontSize" >Font size</span>
  <span class="control-2 prompt" id="setFontFace" >Font face</span>
  </p>
  <p>
  <span class="control-2 prompt" id="setTextColour">Text colour</span>
  <span class="control-2 prompt" id="setHighlightColour">Text highlight</span>
  <span class="control-2 prompt" id="makeLink">Link</span>
  </p>
  <p>
    <span class="control-2" id="increaseQuoteLevel">Quote</span>
    <span class="control-2" id="decreaseQuoteLevel">Dequote</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <span class="control-2" id="makeUnorderedList">List</span>
    <span class="control-2" id="removeList">Unlist</span>
    <span class="control-2" id="increaseListLevel">Increase list level</span>
    <span class="control-2" id="decreaseListLevel">Decrease list level</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span class="control-2 prompt" id="insertImage" >Insert image</span>
  <span class="control-2 prompt" id="setHTML" >Set HTML</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <span class="control-2" id="undo">Undo</span>
    <span class="control-2" id="redo">Redo</span>
    <span class="control-2" id="foobar">FooBar</span>
  </p>
</header>

  <div id="RICH_TEXT_EDITOR_2" tabindex="0">Hello World Lala 2</div>

<script type="text/template" id="editorStyles">
  html {
    height: 100%;
  }
  body {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    height: 100%;
    padding: 1em;
    background: transparent;
    color: #2b2b2b;
    font: 13px/1.35 Helvetica, arial, sans-serif;
    cursor: text;
  }
  a {
    text-decoration: underline;
  }
  h1 {
    font-size: 138.5%;
  }
  h2 {
    font-size: 123.1%;
  }
  h3 {
    font-size: 108%;
  }
  h1,h2,h3,p {
    margin: 1em 0;
  }
  h4,h5,h6 {
    margin: 0;
  }
  ul, ol {
    margin: 0 1em;
    padding: 0 1em;
  }
  blockquote {
    border-left: 2px solid blue;
    margin: 0;
    padding: 0 10px;
  }
</script>
<script type="text/javascript" src="build/squire-raw.js"></script>
<script type="text/javascript" charset="utf-8">
  var editorDiv = document.getElementById('RICH_TEXT_EDITOR');
  var editorDiv2 = document.getElementById('RICH_TEXT_EDITOR_2');

  //document.body.appendChild( iframe );
  if(editorDiv.classList){
	editorDiv.classList.add('border');
	editorDiv.classList.add('rte');
	}
  else{
	editorDiv.className = 'border rte';
  }

//document.body.appendChild( iframe );
  if(editorDiv2.classList){
    editorDiv2.classList.add('border');
    editorDiv2.classList.add('rte');
    }
  else{
    editorDiv2.className = 'border rte';
  }

  var editor = new Squire( editorDiv, editorDiv.ownerDocument, {
        blockTag: 'p',
        blockAttributes: {'class': 'paragraph'},
        tagAttributes: {
            ul: {'class': 'UL'},
            ol: {'class': 'OL'},
            li: {'class': 'listItem'}
        }
    });

  editor.setHTML('Hello World Lala');

  var editor2 = new Squire( editorDiv2, editorDiv2.ownerDocument, {
      blockTag: 'p',
      blockAttributes: {'class': 'paragraph'},
      tagAttributes: {
          ul: {'class': 'UL'},
          ol: {'class': 'OL'},
          li: {'class': 'listItem'}
      }
  });

  editor2.setHTML('Hello World 2 Lala');


  var activateControl = function(control, ed){
	  control.addEventListener( 'mousedown', function ( e ) {
          var id = e.target.id,
              value,
              editor = ed;
          if ( id && editor && editor[ id ] ) {
            if ( e.target.className.indexOf('prompt') > -1 ) {
              value = prompt( 'Value:' );
            }
            editor[ id ]( value );
            e.preventDefault();
            return false;
          }
          if (id && id === 'foobar'){
              editor.insertHTML('</div> Got ya! ');
              e.preventDefault();
              return false;
          }
        }, false );
  }

  //activate buttons:



  var onWindowLoad = function( ev ){
	  var i,
	  topControls = document.getElementsByClassName("control-1"),
	  bottomControls = document.getElementsByClassName("control-2");

	  for (i = 0; i<topControls.length; i++){
	      activateControl(topControls[i], editor);
	  }

      for (i = 0; i<bottomControls.length; i++){
    	  activateControl(bottomControls[i], editor2);
      }

  };

  document.defaultView.addEventListener('load', onWindowLoad);

</script>
</body>
</html>
